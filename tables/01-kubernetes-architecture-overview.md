# 01 - Kubernetes 架构表 (Architecture)

> **适用版本**: v1.25 - v1.32 | **最后更新**: 2026-01 | **参考**: [Kubernetes Concepts](https://kubernetes.io/docs/concepts/architecture/)

## 架构总览 (Architecture Overview)

```text
┌─────────────────────────────────────────────────────────────────────────────────┐
│                             Kubernetes Cluster                                  │
├─────────────────────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────── Control Plane ─────────────────────────────┐ │
│ │                                                                          │ │
│ │ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────────┐      │ │
│ │ │ API Server  │ │ Scheduler   │ │ Controller  │ │Cloud Controller │      │ │
│ │ │   :6443     │ │   :10259    │ │   Manager   │ │    Manager      │      │ │
│ │ └──────┬──────┘ └──────┬──────┘ └──────┬──────┘ └───────┬─────────┘      │ │
│ │        │               │               │                │                │ │
│ │        └───────────────┴───────────────┴────────────────┘                │ │
│ │                                 │                                        │ │
│ │                        ┌────────┴────────┐                               │ │
│ │                        │      etcd       │                               │ │
│ │                        │  :2379/:2380    │                               │ │
│ │                        └─────────────────┘                               │ │
│ └──────────────────────────────────────────────────────────────────────────┘ │
│                                     │                                        │
│                                     │ HTTPS / gRPC                           │
│                                     ▼                                        │
│ ┌─────────────────────────────── Worker Nodes ──────────────────────────────┐ │
│ │                                                                          │ │
│ │ ┌─────────────────────────────── Node 1 ──────────────────────────────┐  │ │
│ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────────────┐ │  │ │
│ │ │ │ kubelet  │ │kube-proxy│ │Container │ │      CNI Plugin          │ │  │ │
│ │ │ │ :10250   │ │ :10249   │ │ Runtime  │ │    (Calico/Cilium)       │ │  │ │
│ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └───────────┬──────────────┘ │  │ │
│ │ │      └────────────┴────────────┴───────────────────┘                │  │ │
│ │ │                             │                                        │  │ │
│ │ │        ┌────────────────────┴─────────────────────┐                  │  │ │
│ │ │        │   ┌─────┐  ┌─────┐  ┌─────┐  ┌─────┐     │                  │  │ │
│ │ │        │   │ Pod │  │ Pod │  │ Pod │  │ Pod │ ... │                  │  │ │
│ │ │        │   └─────┘  └─────┘  └─────┘  └─────┘     │                  │  │ │
│ │ │        └──────────────────────────────────────────┘                  │  │ │
│ │ └──────────────────────────────────────────────────────────────────────┘  │ │
│ └──────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 核心组件 (Core Components)

| 组件 | 英文名 | 职责 | HA 方式 |
|------|-------|------|---------|
| **API Server** | kube-apiserver | 集群入口, 认证授权 | 多副本 + LB |
| **etcd** | etcd | 元数据存储 | Raft 集群 (3/5 节点) |
| **Scheduler** | kube-scheduler | 调度决策 | Leader 选举 |
| **Controller** | kube-controller-manager | 状态修复, 控制回路 | Leader 选举 |
| **Kubelet** | kubelet | 节点代理, 管理容器 | 本地自动重启 |
| **Container** | containerd / CRI | 运行容器 | 系统级服务 |

---

**表格底部标记**: Kusheet Project, 作者 Allen Galler (allengaller@gmail.com)