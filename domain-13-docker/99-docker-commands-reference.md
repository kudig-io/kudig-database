# Docker 命令大全参考

## 概述
本文档提供了 Docker 完整的命令参考，包括命令名称、命令用途、功能清单、注意事项以及安全生产风险提示。

## 基础管理命令

### docker version
- **命令用途**: 查看 Docker 版本信息
- **功能清单**:
  - 显示客户端版本
  - 显示服务端版本
  - 显示构建信息
- **注意事项**:
  - 需要 Docker 服务正在运行
  - 可以使用 `-f` 参数格式化输出
- **安全生产风险**:
  - 无显著安全风险
  - 仅用于信息查询

### docker info
- **命令用途**: 查看 Docker 系统信息
- **功能清单**:
  - 显示 Docker 服务器配置
  - 显示镜像和容器数量
  - 显示存储驱动信息
  - 显示网络配置
- **注意事项**:
  - 需要管理员权限才能看到完整信息
  - 包含敏感的系统配置信息
- **安全生产风险**:
  - 输出可能包含敏感系统信息
  - 不要在公共环境中直接显示全部输出

### docker system df
- **命令用途**: 查看 Docker 磁盘使用情况
- **功能清单**:
  - 显示镜像占用空间
  - 显示容器占用空间
  - 显示卷占用空间
- **注意事项**:
  - 定期检查磁盘使用情况避免空间不足
  - 可结合清理命令释放空间
- **安全生产风险**:
  - 无直接安全风险
  - 但磁盘空间耗尽会影响系统稳定性

### docker inspect
- **命令用途**: 查看对象详细信息
- **功能清单**:
  - 显示容器详细配置
  - 显示镜像元数据
  - 显示网络配置详情
  - 支持格式化输出
- **注意事项**:
  - 输出信息非常详细
  - 可使用模板格式化输出
- **安全生产风险**:
  - 可能暴露敏感配置信息
  - 容器环境变量可能包含密码等敏感数据

### docker stats
- **命令用途**: 实时显示容器资源使用统计
- **功能清单**:
  - 显示 CPU 使用率
  - 显示内存使用情况
  - 显示网络 I/O
  - 显示块 I/O
- **注意事项**:
  - 实时监控容器性能
  - 可指定特定容器监控
- **安全生产风险**:
  - 无直接安全风险
  - 用于性能监控和容量规划

### docker commit
- **命令用途**: 从容器创建新镜像
- **功能清单**:
  - 将容器状态保存为新镜像
  - 支持添加提交信息
- **注意事项**:
  - 避免在镜像中包含敏感数据
  - 建议使用 Dockerfile 替代
- **安全生产风险**:
  - 可能将敏感信息固化到镜像中
  - 不利于镜像版本控制

### docker tag
- **命令用途**: 为镜像添加标签
- **功能清单**:
  - 重命名镜像
  - 为镜像添加版本标签
  - 准备推送镜像到仓库
- **注意事项**:
  - 标签不影响镜像内容
  - 同一镜像可以有多个标签
- **安全生产风险**:
  - 错误的标签可能导致部署问题
  - 生产环境应避免使用 latest 标签

### docker history
- **命令用途**: 显示镜像构建历史
- **功能清单**:
  - 显示镜像每一层信息
  - 显示创建时间和大小
  - 显示构建指令
- **注意事项**:
  - 帮助分析镜像构成
  - 识别过大层的原因
- **安全生产风险**:
  - 构建历史可能暴露敏感信息
  - 显示 Dockerfile 指令细节

### docker login/logout
- **命令用途**: 登录/登出镜像仓库
- **功能清单**:
  - 验证仓库身份
  - 管理认证凭据
- **注意事项**:
  - 使用安全的方式存储凭据
  - 定期更新认证令牌
- **安全生产风险**:
  - 认证凭据泄露风险
  - 确保使用 HTTPS 连接仓库

### docker search
- **命令用途**: 搜索 Docker Hub 镜像
- **功能清单**:
  - 按名称搜索官方镜像
  - 显示镜像星级和下载量
- **注意事项**:
  - 优先选择官方认证镜像
  - 检查镜像更新频率
- **安全生产风险**:
  - 可能搜索到恶意镜像
  - 避免在生产环境直接使用搜索结果

## 镜像管理命令

### docker images
- **命令用途**: 列出本地镜像
- **功能清单**:
  - 显示镜像名称
  - 显示标签
  - 显示镜像ID
  - 显示创建时间和大小
- **注意事项**:
  - 使用 `-a` 参数显示所有镜像
  - 使用 `--digests` 显示摘要信息
- **安全生产风险**:
  - 检查是否有未授权或恶意镜像
  - 定期审查镜像来源

### docker pull
- **命令用途**: 从仓库拉取镜像
- **功能清单**:
  - 从 Docker Hub 或私有仓库下载镜像
  - 支持指定标签
  - 支持多架构镜像
- **注意事项**:
  - 确保从可信源拉取镜像
  - 检查镜像签名（如果支持）
- **安全生产风险**:
  - 拉取未经验证的镜像可能导致安全漏洞
  - 确保使用安全的镜像仓库
  - 避免使用 latest 标签在生产环境

### docker push
- **命令用途**: 推送镜像到仓库
- **功能清单**:
  - 将本地镜像上传到仓库
  - 支持标签管理
- **注意事项**:
  - 推送前确保镜像经过安全扫描
  - 验证仓库访问权限
- **安全生产风险**:
  - 误推包含敏感信息的镜像
  - 确保不推送开发或测试镜像到生产仓库

### docker rmi
- **命令用途**: 删除本地镜像
- **功能清单**:
  - 根据镜像ID或名称删除镜像
  - 强制删除（使用 `-f` 参数）
- **注意事项**:
  - 确保没有运行中的容器依赖该镜像
  - 使用 `-f` 参数会强制删除
- **安全生产风险**:
  - 误删生产环境使用的镜像
  - 删除镜像前确认其影响范围

### docker build
- **命令用途**: 从 Dockerfile 构建镜像
- **功能清单**:
  - 从 Dockerfile 创建镜像
  - 支持多种构建参数
  - 支持多阶段构建
- **注意事项**:
  - 验证 Dockerfile 安全性
  - 避免在镜像中包含敏感信息
- **安全生产风险**:
  - Dockerfile 中可能包含安全漏洞
  - 构建过程中可能暴露敏感数据
  - 避免以 root 用户运行应用

## 容器管理命令

### docker run
- **命令用途**: 运行容器
- **功能清单**:
  - 从镜像启动新容器
  - 支持多种运行参数
  - 支持资源限制
  - 支持网络和存储配置
- **注意事项**:
  - 使用适当的用户权限运行容器
  - 设置资源限制防止滥用
- **安全生产风险**:
  - 使用特权模式运行容器存在安全隐患
  - 挂载主机目录可能泄露敏感信息
  - 确保容器运行在非特权模式下

### docker ps
- **命令用途**: 列出容器
- **功能清单**:
  - 显示运行中的容器
  - 使用 `-a` 显示所有容器
  - 显示容器状态和资源使用
- **注意事项**:
  - 定期检查运行中的容器
  - 监控容器状态变化
- **安全生产风险**:
  - 检查是否有异常运行的容器
  - 确保没有运行恶意容器

### docker start/stop/restart
- **命令用途**: 控制容器生命周期
- **功能清单**:
  - 启动已停止的容器
  - 停止运行中的容器
  - 重启容器
- **注意事项**:
  - 使用优雅停止让容器正确处理信号
  - 确保应用状态在重启前后一致
- **安全生产风险**:
  - 强制停止可能导致数据损坏
  - 在生产环境中谨慎重启关键服务

### docker exec
- **命令用途**: 在运行的容器中执行命令
- **功能清单**:
  - 在容器内部执行交互式命令
  - 支持进入容器shell
- **注意事项**:
  - 避免在生产环境中频繁使用
  - 注意执行命令的安全性
- **安全生产风险**:
  - 可能绕过安全策略直接操作容器
  - 执行危险命令可能影响容器安全
  - 避免以 root 权限执行命令

### docker logs
- **命令用途**: 查看容器日志
- **功能清单**:
  - 显示容器标准输出
  - 支持实时跟踪日志
  - 支持时间范围过滤
- **注意事项**:
  - 日志可能包含敏感信息
  - 定期清理日志防止磁盘空间不足
- **安全生产风险**:
  - 日志可能暴露敏感数据
  - 确保日志访问受到适当控制

### docker rm
- **命令用途**: 删除容器
- **功能清单**:
  - 删除已停止的容器
  - 强制删除运行中的容器
- **注意事项**:
  - 删除前备份重要数据
  - 确认容器不再需要
- **安全生产风险**:
  - 误删仍在使用的容器
  - 删除容器前确保数据已持久化

### docker attach
- **命令用途**: 连接到运行中容器的标准输入输出
- **功能清单**:
  - 连接到容器的主进程
  - 查看容器实时输出
- **注意事项**:
  - 使用 Ctrl+P Ctrl+Q 退出而不终止容器
  - 谨慎使用，可能影响容器运行
- **安全生产风险**:
  - 可能干扰容器正常运行
  - 避免在生产环境中频繁使用

### docker pause/unpause
- **命令用途**: 暂停/恢复容器进程
- **功能清单**:
  - 暂停容器内所有进程
  - 恢复暂停的容器进程
- **注意事项**:
  - 暂停状态下容器仍占用资源
  - 不同于停止容器
- **安全生产风险**:
  - 暂停关键服务可能影响业务
  - 恢复时可能出现状态不一致

### docker wait
- **命令用途**: 等待容器停止并返回退出码
- **功能清单**:
  - 阻塞直到容器停止
  - 返回容器退出状态码
- **注意事项**:
  - 主要用于脚本中等待容器完成
  - 可设置超时时间
- **安全生产风险**:
  - 无直接安全风险
  - 用于容器状态同步

### docker export/import
- **命令用途**: 导出/导入容器文件系统
- **功能清单**:
  - 导出容器为 tar 文件
  - 从 tar 文件导入容器
- **注意事项**:
  - 导出不包含容器历史和元数据
  - 主要用于容器迁移
- **安全生产风险**:
  - 导出文件可能包含敏感数据
  - 确保传输过程加密

### docker diff
- **命令用途**: 查看容器文件系统变更
- **功能清单**:
  - 显示容器与基础镜像的差异
  - 标识文件变更类型（新增/修改/删除）
- **注意事项**:
  - 帮助理解容器运行时变化
  - 用于调试和审计
- **安全生产风险**:
  - 可能暴露容器内敏感文件路径
  - 显示未经授权的文件修改

### docker update
- **命令用途**: 更新容器资源配置
- **功能清单**:
  - 动态调整 CPU 限制
  - 动态调整内存限制
  - 更新重启策略
- **注意事项**:
  - 无需重启容器即可生效
  - 仅支持部分资源配置更新
- **安全生产风险**:
  - 资源限制过严可能影响服务
  - 动态调整需谨慎测试

## 网络管理命令

### docker network ls
- **命令用途**: 列出网络
- **功能清单**:
  - 显示所有网络配置
  - 显示网络类型和范围
- **注意事项**:
  - 了解不同网络类型的用途
  - 避免在生产环境中使用默认桥接网络
- **安全生产风险**:
  - 不安全的网络配置可能导致容器间攻击
  - 确保隔离不同安全级别的容器

### docker network create
- **命令用途**: 创建网络
- **功能清单**:
  - 创建自定义网络
  - 支持多种网络驱动
  - 配置网络参数
- **注意事项**:
  - 使用合适的网络驱动
  - 配置适当的网络隔离
- **安全生产风险**:
  - 错误的网络配置可能造成安全漏洞
  - 确保网络规则符合安全策略

### docker network rm
- **命令用途**: 删除网络
- **功能清单**:
  - 删除自定义网络
- **注意事项**:
  - 确保没有容器使用该网络
  - 生产环境中谨慎操作
- **安全生产风险**:
  - 删除网络会影响相关容器通信

## 存储管理命令

### docker volume ls
- **命令用途**: 列出卷
- **功能清单**:
  - 显示所有卷信息
  - 显示卷挂载点
- **注意事项**:
  - 定期检查卷使用情况
  - 确保重要数据正确持久化
- **安全生产风险**:
  - 卷可能包含敏感数据
  - 确保存储安全和访问控制

### docker volume create
- **命令用途**: 创建卷
- **功能清单**:
  - 创建命名卷
  - 支持多种驱动
- **注意事项**:
  - 选择适当的存储驱动
  - 配置卷的访问权限
- **安全生产风险**:
  - 卷配置错误可能导致数据泄露
  - 确保卷加密和访问控制

### docker volume rm
- **命令用途**: 删除卷
- **功能清单**:
  - 删除未使用的卷
- **注意事项**:
  - 删除前备份重要数据
  - 确认卷不再被任何容器使用
- **安全生产风险**:
  - 误删包含重要数据的卷
  - 数据不可恢复

### docker network inspect
- **命令用途**: 查看网络详细配置
- **功能清单**:
  - 显示网络配置详情
  - 显示连接的容器信息
  - 显示网络驱动配置
- **注意事项**:
  - 详细了解网络拓扑结构
  - 用于网络故障排查
- **安全生产风险**:
  - 暴露网络配置细节
  - 可能显示敏感网络信息

### docker network connect/disconnect
- **命令用途**: 连接/断开容器与网络
- **功能清单**:
  - 动态添加容器到网络
  - 从网络移除容器
- **注意事项**:
  - 容器可同时连接多个网络
  - 断开网络可能影响服务访问
- **安全生产风险**:
  - 错误的网络连接可能造成安全隔离失效
  - 断开关键网络可能影响服务连通性

### docker network prune
- **命令用途**: 清理未使用的网络
- **功能清单**:
  - 删除所有未使用的网络
- **注意事项**:
  - 释放网络资源
  - 确认网络不再需要
- **安全生产风险**:
  - 误删仍在使用的网络
  - 影响相关容器通信

### docker volume inspect
- **命令用途**: 查看卷详细信息
- **功能清单**:
  - 显示卷配置详情
  - 显示挂载点信息
  - 显示驱动配置
- **注意事项**:
  - 了解卷的具体配置
  - 用于卷故障排查
- **安全生产风险**:
  - 暴露存储配置信息
  - 可能显示敏感数据位置

### docker volume prune
- **命令用途**: 清理未使用的卷
- **功能清单**:
  - 删除所有未使用的卷
- **注意事项**:
  - 释放存储空间
  - 操作前确认数据已备份
- **安全生产风险**:
  - 误删包含重要数据的卷
  - 数据永久丢失风险

## Compose 命令

### docker-compose up
- **命令用途**: 启动 Compose 项目
- **功能清单**:
  - 根据 docker-compose.yml 启动服务
  - 支持后台运行
  - 自动创建所需网络和卷
- **注意事项**:
  - 验证 docker-compose.yml 文件安全性
  - 确保配置符合生产环境要求
- **安全生产风险**:
  - 配置文件可能包含安全漏洞
  - 确保不暴露敏感服务到公网

### docker-compose down
- **命令用途**: 停止并删除 Compose 项目
- **功能清单**:
  - 停止所有服务
  - 删除容器、网络和卷
- **注意事项**:
  - 删除前确保数据已备份
  - 确认操作目标正确
- **安全生产风险**:
  - 误删生产环境的服务
  - 数据丢失风险

### docker-compose ps
- **命令用途**: 显示 Compose 项目中的服务状态
- **功能清单**:
  - 显示各服务运行状态
  - 显示端口映射信息
  - 显示服务依赖关系
- **注意事项**:
  - 在项目目录中执行
  - 显示当前 compose 文件定义的服务
- **安全生产风险**:
  - 暴露服务端口和配置信息
  - 可能显示敏感服务状态

### docker-compose logs
- **命令用途**: 查看服务日志
- **功能清单**:
  - 显示所有服务日志
  - 实时跟踪日志输出
  - 按服务筛选日志
- **注意事项**:
  - 日志可能包含敏感信息
  - 可指定时间范围查看
- **安全生产风险**:
  - 日志泄露敏感数据
  - 确保日志访问控制

### docker-compose exec
- **命令用途**: 在运行的服务中执行命令
- **功能清单**:
  - 在指定服务容器中执行命令
  - 支持交互式执行
- **注意事项**:
  - 避免在生产环境频繁使用
  - 注意执行命令的安全性
- **安全生产风险**:
  - 可能绕过安全策略
  - 执行危险命令影响服务安全

### docker-compose build
- **命令用途**: 构建或重新构建服务
- **功能清单**:
  - 根据 compose 文件构建镜像
  - 支持强制重新构建
- **注意事项**:
  - 验证 docker-compose.yml 安全性
  - 确保构建环境安全
- **安全生产风险**:
  - 构建过程可能暴露敏感信息
  - 使用不安全的基础镜像

### docker-compose pull/push
- **命令用途**: 拉取/推送服务镜像
- **功能清单**:
  - 拉取所有服务所需镜像
  - 推送构建的镜像到仓库
- **注意事项**:
  - 确保从可信源拉取镜像
  - 推送前进行安全扫描
- **安全生产风险**:
  - 拉取恶意镜像风险
  - 推送包含敏感信息的镜像

### docker-compose config
- **命令用途**: 验证和查看 compose 配置
- **功能清单**:
  - 验证 compose 文件语法
  - 显示解析后的配置
- **注意事项**:
  - 用于配置调试
  - 显示完整的服务配置
- **安全生产风险**:
  - 暴露完整的服务配置信息
  - 可能显示敏感配置参数

### docker events
- **命令用途**: 获取 Docker 服务端实时事件
- **功能清单**:
  - 监听容器生命周期事件
  - 监听镜像操作事件
  - 监听网络和卷变更事件
  - 支持事件过滤
- **注意事项**:
  - 持续输出直到手动停止
  - 可用于自动化脚本触发
- **安全生产风险**:
  - 实时事件可能暴露系统操作详情
  - 大量事件可能影响性能

### docker port
- **命令用途**: 列出容器端口映射
- **功能清单**:
  - 显示容器端口到主机端口映射
  - 显示绑定的IP地址
- **注意事项**:
  - 只显示运行中容器的端口映射
  - 用于服务访问验证
- **安全生产风险**:
  - 暴露服务端口配置信息
  - 可用于网络攻击规划

### docker top
- **命令用途**: 显示容器内运行的进程
- **功能清单**:
  - 显示容器内进程列表
  - 显示进程PID、用户、CPU、内存使用
- **注意事项**:
  - 只能查看运行中容器的进程
  - 需要容器支持 ps 命令
- **安全生产风险**:
  - 暴露容器内进程详细信息
  - 可用于进程分析和攻击规划

### docker rename
- **命令用途**: 重命名容器
- **功能清单**:
  - 修改容器名称
  - 不影响容器运行状态
- **注意事项**:
  - 名称必须唯一
  - 不影响容器ID
- **安全生产风险**:
  - 容器名称变更可能影响依赖服务
  - 确保相关配置同步更新

### docker checkpoint
- **命令用途**: 创建和管理容器检查点
- **功能清单**:
  - 创建容器运行状态快照
  - 恢复容器到检查点状态
  - 支持检查点导出和导入
- **注意事项**:
  - 需要实验性功能支持
  - 主要用于容器迁移和恢复
- **安全生产风险**:
  - 检查点可能包含敏感运行时数据
  - 确保检查点文件安全存储

### docker plugin
- **命令用途**: 管理 Docker 插件
- **功能清单**:
  - 安装和卸载插件
  - 启用和禁用插件
  - 查看插件列表和信息
- **注意事项**:
  - 插件可扩展 Docker 功能
  - 需要谨慎选择可信插件
- **安全生产风险**:
  - 第三方插件可能存在安全风险
  - 插件权限过高可能影响系统安全

### docker secret
- **命令用途**: 管理敏感数据密钥
- **功能清单**:
  - 创建和管理密钥
  - 在服务间安全共享密钥
  - 支持密钥轮换
- **注意事项**:
  - 主要用于 Swarm 模式
  - 密钥存储在加密的 Raft 日志中
- **安全生产风险**:
  - 密钥泄露可能导致严重安全问题
  - 确保密钥访问控制严格

### docker config
- **命令用途**: 管理服务配置文件
- **功能清单**:
  - 创建和管理配置对象
  - 在服务间共享配置
  - 支持配置版本管理
- **注意事项**:
  - 配置以明文形式存储
  - 不适用于敏感信息存储
- **安全生产风险**:
  - 配置文件可能包含敏感信息
  - 确保配置访问权限控制

### docker node
- **命令用途**: 管理 Swarm 集群节点
- **功能清单**:
  - 查看节点状态和信息
  - 管理节点角色（manager/worker）
  - 节点维护和故障排除
- **注意事项**:
  - 仅在 Swarm 模式下可用
  - manager 节点具有集群管理权限
- **安全生产风险**:
  - manager 节点权限过高
  - 节点故障可能影响整个集群

### docker service
- **命令用途**: 管理 Swarm 服务
- **功能清单**:
  - 创建、更新、删除服务
  - 扩容和缩容服务副本
  - 查看服务状态和日志
- **注意事项**:
  - 用于生产环境服务编排
  - 支持滚动更新和回滚
- **安全生产风险**:
  - 服务配置错误可能影响业务
  - 确保服务更新经过充分测试

### docker stack
- **命令用途**: 管理多服务应用堆栈
- **功能清单**:
  - 部署和管理应用堆栈
  - 支持堆栈更新和删除
  - 查看堆栈状态和服务
- **注意事项**:
  - 基于 compose 文件部署
  - 适用于复杂应用部署
- **安全生产风险**:
  - 堆栈配置错误可能影响多个服务
  - 确保堆栈变更经过评审

### docker scan
- **命令用途**: 扫描镜像安全漏洞
- **功能清单**:
  - 检测镜像中的已知漏洞
  - 提供 CVE 漏洞详细信息
  - 建议修复方案和版本升级
- **注意事项**:
  - 需要 Docker Desktop 或单独安装
  - 扫描结果仅供参考，需人工验证
- **安全生产风险**:
  - 可能暴露镜像安全弱点
  - 确保扫描结果妥善处理

### docker sbom
- **命令用途**: 生成软件物料清单
- **功能清单**:
  - 生成镜像的 SBOM (Software Bill of Materials)
  - 列出所有依赖组件和版本
  - 支持 SPDX 和 CycloneDX 格式
- **注意事项**:
  - 用于供应链安全合规
  - 帮助识别依赖风险
- **安全生产风险**:
  - SBOM 可能暴露技术栈信息
  - 确保物料清单安全存储

### docker scout
- **命令用途**: 容器安全分析工具
- **功能清单**:
  - 实时安全监控和分析
  - 漏洞优先级排序
  - 修复建议和最佳实践
- **注意事项**:
  - 需要 Docker Scout 订阅
  - 提供持续安全评估
- **安全生产风险**:
  - 持续监控可能产生大量安全数据
  - 确保分析结果及时处理

### docker buildx
- **命令用途**: 高级镜像构建工具
- **功能清单**:
  - 支持多平台镜像构建
  - 并行构建提高效率
  - 构建缓存优化
- **注意事项**:
  - 需要启用实验性功能
  - 替代传统 docker build
- **安全生产风险**:
  - 构建过程可能暴露敏感信息
  - 确保构建环境安全隔离

### docker context
- **命令用途**: 管理 Docker 上下文
- **功能清单**:
  - 创建和切换 Docker 上下文
  - 管理多个 Docker 环境
  - 支持远程 Docker 守护进程
- **注意事项**:
  - 用于多环境管理
  - 简化环境切换操作
- **安全生产风险**:
  - 上下文配置错误可能连接到错误环境
  - 确保上下文访问权限控制

### docker trust
- **命令用途**: 内容信任管理
- **功能清单**:
  - 管理镜像签名和验证
  - 配置信任策略
  - 验证镜像来源可靠性
- **注意事项**:
  - 提升镜像供应链安全性
  - 需要 Notary 服务支持
- **安全生产风险**:
  - 信任配置错误可能影响镜像验证
  - 确保签名密钥安全管理

## 系统维护命令

### docker system prune
- **命令用途**: 清理系统资源
- **功能清单**:
  - 删除停止的容器
  - 删除未使用的网络
  - 删除构建缓存
- **注意事项**:
  - 备份重要数据后再执行
  - 确认不会影响运行中的服务
- **安全生产风险**:
  - 误删仍在使用的资源
  - 影响生产环境服务

### docker image prune
- **命令用途**: 清理未使用的镜像
- **功能清单**:
  - 删除悬空镜像
  - 释放磁盘空间
- **注意事项**:
  - 确认镜像确实不再需要
  - 避免删除正在使用的镜像
- **安全生产风险**:
  - 误删生产环境需要的镜像

### docker container prune
- **命令用途**: 清理停止的容器
- **功能清单**:
  - 删除所有已停止的容器
  - 释放容器占用的资源
- **注意事项**:
  - 只删除已停止的容器
  - 运行中的容器不受影响
- **安全生产风险**:
  - 误删仍在使用的容器数据
  - 确保重要容器已备份

### docker network prune
- **命令用途**: 清理未使用的网络
- **功能清单**:
  - 删除所有未使用的网络
  - 释放网络资源
- **注意事项**:
  - 只删除未被容器使用的网络
  - 自定义网络配置会被保留
- **安全生产风险**:
  - 误删仍在使用的网络配置
  - 影响容器间通信

### docker volume prune
- **命令用途**: 清理未使用的卷
- **功能清单**:
  - 删除所有未使用的卷
  - 释放存储空间
- **注意事项**:
  - 只删除未被容器挂载的卷
  - 命名卷会被保留
- **安全生产风险**:
  - 误删包含重要数据的匿名卷
  - 数据永久丢失风险

### docker builder prune
- **命令用途**: 清理构建缓存
- **功能清单**:
  - 删除构建过程中产生的缓存
  - 释放磁盘空间
- **注意事项**:
  - 不影响已存在的镜像
  - 下次构建可能需要重新下载
- **安全生产风险**:
  - 清理过于频繁可能影响构建性能
  - 确保不影响正在进行的构建任务

### docker system info
- **命令用途**: 显示详细系统信息
- **功能清单**:
  - 显示 Docker 系统详细配置
  - 显示资源使用统计
  - 显示插件和驱动信息
- **注意事项**:
  - 输出信息非常详细
  - 包含敏感的系统配置
- **安全生产风险**:
  - 暴露详细的系统架构信息
  - 可能包含安全配置详情

## 安全最佳实践

### 命令使用安全建议
1. 避免使用 `--privileged` 参数
2. 不要将敏感目录挂载到容器
3. 使用非 root 用户运行容器
4. 定期更新基础镜像
5. 实施镜像扫描策略
6. 启用 Docker 内容信任 (DCT)
7. 使用用户命名空间隔离
8. 配置 seccomp 和 AppArmor 配置文件
9. 限制容器网络访问
10. 实施镜像签名验证
11. 启用运行时安全监控
12. 配置容器安全策略
13. 实施零信任容器网络
14. 建立容器安全事件响应机制
15. 定期进行容器安全审计
16. 实施镜像漏洞扫描
17. 启用容器运行时防护
18. 配置容器准入控制
19. 实施容器网络微隔离
20. 建立容器安全运营中心
21. 部署容器安全扫描 (Docker Scan)
22. 实施软件物料清单管理 (SBOM)
23. 启用容器内容信任机制
24. 配置多阶段构建安全检查
25. 实施容器镜像签名验证

### 生产环境注意事项
1. 使用镜像标签而非 latest
2. 实施资源限制
3. 配置健康检查
4. 使用安全的网络配置
5. 定期备份重要数据
6. 启用 Docker 守护进程日志记录
7. 配置访问控制和认证
8. 实施容器运行时安全监控
9. 定期审查容器配置和权限
10. 建立容器安全事件响应机制
11. 实施容器镜像治理策略
12. 配置容器网络微隔离
13. 建立容器生命周期管理流程
14. 实施容器安全合规检查
15. 建立容器灾难恢复预案
16. 配置容器安全态势感知
17. 实施容器运行时威胁检测
18. 建立容器安全事件响应团队
19. 实施容器安全自动化响应
20. 定期进行容器安全攻防演练
21. 部署容器运行时安全防护 (Falco)
22. 实施容器镜像安全扫描
23. 配置容器网络安全策略
24. 建立容器安全治理框架
25. 实施容器安全左移实践